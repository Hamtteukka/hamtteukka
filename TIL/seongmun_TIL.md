# TIL (Today I Learned)

<details>
<summary><h2>📖 2025-01-13 학습</h2></summary>

- AI를 활용한 서술형 도안 -> 기호 도안 변환 프롬프트 작성
- docker 공부 & JPA 공부
</details>

<details>
<summary><h2>📖 2025-01-14 학습</h2></summary>

### 도커의 볼륨(Volume)
- 도커 컨테이너에서 데이터를 영속적으로 저장하기 위한 방법
- 컨테이너 자체의 저장 공간을 사용하지 않고 호스트 자체의 저장 공간을 공유해서 사용하는 형태
```bash
$ docker run -v [호스트의 디렉토리 절대경로]:[컨테이너의 디렉토리 절대경로] [이미지명]:[태그명]
```
- [**호스트의 디렉토리 절대 경로**]에 디렉토리가 이미 존재할 경우 호스트의 디렉터리가 컨테이너의 디렉터리를 덮어씌움
- [**호스트의 디렉토리 절대 경로**]에 디렉토리가 존재하지 않을 경우 호스트의 디렉터리 절대 경로에 디렉터리를 새로 만들고 컨테이너의 디렉터리에 있는 파일들을 호스트의 디렉터리로 복사함함
</details>

<details>
<summary><h2>📖 2025-01-15 학습</h2></summary>

# 프로세스와 스레드

## 프로세스 (Process)

프로세스는 컴퓨터에서 실행 중인 하나의 프로그램을 의미
프로그램이 실행되면 운영체제는 디스크에 저장된 데이터를 메모리로 로드하여 실제 메모리 공간에 할당하고 CPU가 접근할 수 있는 상태가 됩니다

### 프로세스의 메모리 구조
프로세스의 메모리는 크게 4가지 구조를 가짐
- **코드(Code) 영역**  
  실행할 프로그램의 코드가 기계어로 컴파일되어 저장되는 영역으로 텍스트(text) 영역이라고도 함
  CPU는 코드 영역에 저장된 명령어를 하나씩 가져가서 처리하며 중간에 코드가 변경되지 않도록 Read-Only 형태로 저장됨

- **데이터(Data) 영역**  
  전역 변수, 정적(static) 변수, 배열, 구조체 등이 저장되는 영역
  데이터 영역은 세부적으로 BSS(Block Started by Symbol) 영역과 데이터 영역으로 나눌 수 있다
  - BSS 영역: 초기화하지 않은 변수를 저장  
  - 데이터 영역: 초기화된 변수를 저장  
  실행 도중 변수 값이 변경될 수 있으므로 Read-Write로 저장됨

- **스택(Stack) 영역**  
  지역 변수, 함수의 매개변수, 반환되는 주소 값 등이 저장되는 영
  함수의 호출과 함께 할당되며 함수의 호출이 완료되면 소멸함

- **힙(Heap) 영역**  
  사용자에 의해 동적 메모리 할당이 일어나는 영역
  생성자, 인스턴스와 같은 동적으로 할당되는 데이터들을 저장하는 공간

---

## 스레드 (Thread)

스레드는 프로세스 내에서 실행되는 작은 실행 단위이며 같은 프로세스 내에서 메모리 공간을 공유하며 실행됨

### 프로세스와 스레드의 차이

- **메모리 공유**  
  프로세스는 독립된 메모리 공간을 가지고 스레드는 같은 프로세스 내에서 메모리 공간을 공유함

- **자원 할당**  
  프로세스는 운영체제로부터 자원을 할당받고 스레드는 프로세스가 할당받은 자원을 공유하여 사용

---

### 멀티 프로세스와 멀티 스레드

- **멀티 프로세스**  
  하나의 애플리케이션을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 방식 
  - 메모리 사용량이 많음  
  - 구현이 간단하고 안정성이 높음  

- **멀티 스레드**  
  한 프로세스 안에서 여러 개의 스레드를 동시에 실행하여 작업을 처리하는 방식
  - 자원 공유가 용이  
  - 응답성이 좋음  
  - 구현 및 디버깅이 어려울 수 있음  
  - 안정성에 문제가 발생할 가능성 있음

# MultipartFile 방식 vs Presigned URL 방식

## 1. MultipartFile 방식
- **설명**: 
  파일을 클라이언트에서 서버로 업로드한 뒤, 서버에서 S3로 업로드하는 방식

## 2. Presigned URL 방식
- **설명**: 
  클라이언트가 S3에 파일을 직접 업로드하는 방식

---

## 비교표

| 항목                  | MultipartFile 방식                                                                 | Presigned URL 방식                                                                          |
|-----------------------|-----------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| **동작 방식**         | 파일을 서버에 업로드 → 서버에서 S3로 저장                                          | 클라이언트가 Presigned URL을 통해 S3에 직접 업로드                                          |
| **서버 부하**         | 서버가 파일을 처리해야 하므로 서버 부하 증가                                        | 클라이언트가 직접 S3에 업로드하므로 서버 부하 감소                                          |
| **네트워크 비용**      | 서버가 클라이언트와 S3 간 네트워크 비용 모두 부담                                   | 클라이언트가 S3와 직접 통신하므로 서버의 네트워크 비용 감소                                 |
| **보안**              | 서버에서 파일 검증 후 S3에 저장 => 보안이 비교적 우수                                 | URL이 노출되면 파일 접근 가능성 있음 (해결방법: URL 만료 시간 설정)                     |
| **구현 복잡도**       | 서버에서 파일 검증 및 업로드 로직 구현 필요                                        | Presigned URL 생성 및 클라이언트에서의 업로드 로직 구현 필요                                |
| **실시간 처리**       | 파일 검증 및 처리 후 업로드 가능                                                   | 클라이언트가 바로 업로드 가능, 업로드 속도 증가                                             |
| **사용 사례**         | 파일 검증이 중요하거나, 서버에서 추가 처리(변환, 저장) 필요                        | 대용량 파일 업로드, 서버 부하를 줄여야 하는 경우                                            |

---

## 장단점

### MultipartFile 방식
- **장점**:
  - 서버에서 파일 검증, 변환 등 추가 처리가 가능
  - 파일 저장 경로와 관련된 제어가 서버에서 간단하게 이루어짐
  - 보안상 클라이언트에서 S3에 직접 접근하지 않음
- **단점**:
  - 서버 부하와 네트워크 비용이 증가
  - 대용량 파일 업로드 시 서버에 부담이 큼
  - 서버의 리소스를 많이 소모하므로 확장성이 떨어질 수 있음

### Presigned URL 방식
- **장점**:
  - 클라이언트가 S3에 직접 업로드하므로 서버 부하 감소
  - 대용량 파일 업로드에 적합
  - 서버와 클라이언트 간 통신 최소화로 네트워크 비용 절감
- **단점**:
  - Presigned URL의 보안 관리 필요(만료 시간 설정)
  - 서버에서 파일 검증을 할 수 없으므로 클라이언트에서 검증 로직 필요
  - 구현 복잡도가 약간 증가



</details>
